<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>图片切换效果</title>
	<script src="../public/js/jquery-1.11.3.js"></script>
	<style type="text/css">
		.box{
			width: 1200px;
			overflow: hidden;
			margin: 100px auto;
			perspective: 1000px;
		}
		.inner{
			height: 800px;
			position: relative;
			overflow: hidden;
		}
		img{
			width: 380px;
			height: 380px;
			position: absolute;
			top:100px;
			box-shadow: 0 0 10px 3px #999;
/*			transition: transform 1.2s,left 1s ease;*/
			transform-origin: center;
		}
	</style>
</head>
<body>
	<div class="box">
		<div class="inner">
			<img src="../public/img/1.png" alt="" />
			<img src="../public/img/2.png" alt="" />
			<img src="../public/img/3.png" alt="" />
			<img src="../public/img/4.png" alt="" />
			<img src="../public/img/5.png" alt="" />
			<img src="../public/img/1.png" alt="" />
			<img src="../public/img/2.png" alt="" />
			<img src="../public/img/3.png" alt="" />
			<img src="../public/img/4.png" alt="" />
			<img src="../public/img/5.png" alt="" />
		</div>
	</div>
</body>
<script type="text/javascript">
	$('img').each(function(i){
		$('img').eq(i).css({
			'left':i*100,
			'zIndex':$('img').length-i,
			'transform':'scale('+(1-(i/20))+') translateZ('+i*-100+'px)',
			'transition': 'transform 1.2s,left 1s ease '+(i/20)+'s'
			
		})
	})
	var flag=true;
	$('.inner').click(function(){
		if(!flag)
		{
			return
		}
		flag=false;
		$('img').first().animate({
			'marginTop':400
		},1000,function(){
			$('img').first().appendTo($('.inner'))
			$('img').last().animate({'marginTop':0},1000,function(){
				flag=true
			})
			$('img').each(function(i){
				$('img').eq(i).css({
					'left':i*100,
					'zIndex':$('img').length-i,
					'transform':'scale('+(1-(i/20))+') translateZ('+i*-100+'px)',
					'transition': 'transform 1.2s,left 1s ease '+(i/20)+'s'
				})
			})
		})
	})
</script>
</html>
